{"ast":null,"code":"var _jsxFileName = \"/home/asd/Desktop/development/angan_test/client/src/pages/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport attendanceService from '../services/attendanceService';\nimport { AuthContext } from '../context/authContext';\nimport { BoxLoading } from 'react-loadingg';\nimport moment from 'moment';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [isMarked, setIsMarked] = React.useState(false);\n  const [load, setLoad] = React.useState(true);\n  const {\n    user,\n    isAuthenticated\n  } = React.useContext(AuthContext);\n  /** COMPONENT_DID_MOUNT START */\n\n  React.useEffect(() => {\n    if (isAuthenticated) {\n      const data = {\n        date: moment(new Date()).format('YYYY-MM-DD'),\n        id: user.id\n      };\n      attendanceService.checkIfAttendanceMarked(data).then(resData => {\n        console.log(resData);\n        setIsMarked(resData.data);\n      }).catch(err => {\n        console.log(err);\n        setLoad(true);\n      });\n      return () => {\n        setIsMarked(false);\n        setLoad(true);\n      };\n    }\n  }, [isAuthenticated, user.id]);\n  /** COMPONENT_DID_MOUNT END */\n\n  const markAttendance = () => {\n    const data = {\n      date: moment(new Date()).format('YYYY-MM-DD'),\n      id: user.id\n    };\n    attendanceService.markAttendance(data).then(resData => {\n      console.log(resData);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: isMarked ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"you attendance for today has been already marked\"\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success btn-sm\",\n        onClick: markAttendance,\n        children: \"Mark Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(BoxLoading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n}\n\n_s(Home, \"QP+Oxor0dqmEAU75PNkZHDP8lp0=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/asd/Desktop/development/angan_test/client/src/pages/Home.jsx"],"names":["React","attendanceService","AuthContext","BoxLoading","moment","Home","isMarked","setIsMarked","useState","load","setLoad","user","isAuthenticated","useContext","useEffect","data","date","Date","format","id","checkIfAttendanceMarked","then","resData","console","log","catch","err","markAttendance"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,+BAA9B;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;;;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAC9B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,KAAK,CAACQ,QAAN,CAAe,KAAf,CAAhC;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,KAAK,CAACQ,QAAN,CAAe,IAAf,CAAxB;AACA,QAAM;AAAEG,IAAAA,IAAF;AAAOC,IAAAA;AAAP,MAA2BZ,KAAK,CAACa,UAAN,CAAiBX,WAAjB,CAAjC;AAEA;;AACAF,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AACf,QAAGF,eAAH,EAAmB;AACzB,YAAMG,IAAI,GAAG;AAAEC,QAAAA,IAAI,EAAEZ,MAAM,CAAC,IAAIa,IAAJ,EAAD,CAAN,CAAmBC,MAAnB,CAA0B,YAA1B,CAAR;AAAiDC,QAAAA,EAAE,EAAER,IAAI,CAACQ;AAA1D,OAAb;AACAlB,MAAAA,iBAAiB,CACfmB,uBADF,CAC0BL,IAD1B,EAEEM,IAFF,CAEQC,OAAD,IAAa;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACAf,QAAAA,WAAW,CAACe,OAAO,CAACP,IAAT,CAAX;AACA,OALF,EAMEU,KANF,CAMSC,GAAD,IAAS;AACfH,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACAhB,QAAAA,OAAO,CAAC,IAAD,CAAP;AACA,OATF;AAUA,aAAO,MAAM;AACZH,QAAAA,WAAW,CAAC,KAAD,CAAX;AACAG,QAAAA,OAAO,CAAC,IAAD,CAAP;AACA,OAHD;AAIG;AACH,GAlBD,EAkBG,CAACE,eAAD,EAAkBD,IAAI,CAACQ,EAAvB,CAlBH;AAmBA;;AAEA,QAAMQ,cAAc,GAAG,MAAM;AAC5B,UAAMZ,IAAI,GAAG;AAAEC,MAAAA,IAAI,EAAEZ,MAAM,CAAC,IAAIa,IAAJ,EAAD,CAAN,CAAmBC,MAAnB,CAA0B,YAA1B,CAAR;AAAiDC,MAAAA,EAAE,EAAER,IAAI,CAACQ;AAA1D,KAAb;AACAlB,IAAAA,iBAAiB,CACf0B,cADF,CACiBZ,IADjB,EAEEM,IAFF,CAEQC,OAAD,IAAa;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACA,KAJF,EAKEG,KALF,CAKSC,GAAD,IAAS;AACfH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACA,KAPF;AAQA,GAVD;;AAWA,sBACC;AAAA,cACEjB,IAAI,gBACJ;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,gBACEH,QAAQ,gBACR;AAAA;AAAA,uBADQ,gBAGR;AAAQ,QAAA,SAAS,EAAC,wBAAlB;AAA2C,QAAA,OAAO,EAAEqB,cAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,YADI,gBAWJ;AAAA,6BACC,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAZF,mBADD;AAmBA;;GAzDuBtB,I;;KAAAA,I","sourcesContent":["import React from 'react';\nimport attendanceService from '../services/attendanceService';\nimport { AuthContext } from '../context/authContext';\nimport { BoxLoading } from 'react-loadingg';\nimport moment from 'moment';\n\nexport default function Home() {\n\tconst [isMarked, setIsMarked] = React.useState(false);\n\tconst [load, setLoad] = React.useState(true);\n\tconst { user,isAuthenticated } = React.useContext(AuthContext);\n\n\t/** COMPONENT_DID_MOUNT START */\n\tReact.useEffect(() => {\n        if(isAuthenticated){ \n\t\tconst data = { date: moment(new Date()).format('YYYY-MM-DD'), id: user.id };\n\t\tattendanceService\n\t\t\t.checkIfAttendanceMarked(data)\n\t\t\t.then((resData) => {\n\t\t\t\tconsole.log(resData);\n\t\t\t\tsetIsMarked(resData.data);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tsetLoad(true);\n\t\t\t});\n\t\treturn () => {\n\t\t\tsetIsMarked(false);\n\t\t\tsetLoad(true);\n\t\t};\n    }\n\t}, [isAuthenticated, user.id]);\n\t/** COMPONENT_DID_MOUNT END */\n\n\tconst markAttendance = () => {\n\t\tconst data = { date: moment(new Date()).format('YYYY-MM-DD'), id: user.id };\n\t\tattendanceService\n\t\t\t.markAttendance(data)\n\t\t\t.then((resData) => {\n\t\t\t\tconsole.log(resData);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\treturn (\n\t\t<>\n\t\t\t{load ? (\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\t{isMarked ? (\n\t\t\t\t\t\t<>you attendance for today has been already marked</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className='btn btn-success btn-sm' onClick={markAttendance}>\n\t\t\t\t\t\t\tMark Attendance\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<BoxLoading />\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}