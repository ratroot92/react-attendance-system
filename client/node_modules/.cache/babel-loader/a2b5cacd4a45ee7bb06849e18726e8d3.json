{"ast":null,"code":"var _jsxFileName = \"/home/asd/Desktop/development/angan_test/client/src/pages/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport attendanceService from '../services/attendanceService';\nimport { AuthContext } from '../context/authContext';\nimport { BoxLoading } from 'react-loadingg';\nimport moment from 'moment';\nimport { NotificationManager } from 'react-notifications';\nimport * as FaIcons from 'react-icons/fa';\nimport './Home.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [isMarked, setIsMarked] = React.useState(false);\n  const [load, setLoad] = React.useState(false);\n  const {\n    user,\n    isAuthenticated\n  } = React.useContext(AuthContext);\n  /** COMPONENT_DID_MOUNT START */\n\n  React.useEffect(() => {\n    if (isAuthenticated && user.id !== undefined) {\n      const data = {\n        date: moment(new Date()).format('YYYY-MM-DD'),\n        id: user.id\n      };\n      attendanceService.checkIfAttendanceMarked(data).then(resData => {\n        setIsMarked(resData.data);\n        setLoad(true);\n      }).catch(err => {\n        console.log(err);\n        setLoad(true);\n      });\n      return () => {\n        setIsMarked(false);\n        setLoad(true);\n      };\n    }\n  }, [isAuthenticated, user.id]);\n  /** COMPONENT_DID_MOUNT END */\n\n  const markAttendance = () => {\n    setLoad(false);\n    const data = {\n      date: moment(new Date()).format('YYYY-MM-DD'),\n      id: user.id\n    };\n    attendanceService.markAttendance(data).then(resData => {\n      if (resData.success) {\n        setIsMarked(resData.data);\n        NotificationManager.success(resData.message);\n        setLoad(true);\n      } else {\n        NotificationManager.warning(resData.message);\n        setLoad(true);\n      }\n    }).catch(err => {\n      console.log(err);\n      NotificationManager.warning(\"something went wrong ...\");\n      setLoad(true);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" col-md-12 mb-auto mt-auto h-100\",\n    children: load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-100 d-flex flex-row justify-content-center align-items-center \",\n      children: isMarked ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-primary\",\n        children: \"Your attendance for today has been already marked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-lg\",\n          onClick: markAttendance,\n          children: [/*#__PURE__*/_jsxDEV(FaIcons.FaMarker, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 7\n          }, this), \" Mark Attendance\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"You attendance for \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-weight-bold text-primary\",\n            children: moment(new Date()).format('YYYY-MM-DD')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), \"  will be marked \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(BoxLoading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 6\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Home, \"Ih2TISkc4mHqsz8BNUf4hcgxdNk=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/asd/Desktop/development/angan_test/client/src/pages/Home.jsx"],"names":["React","attendanceService","AuthContext","BoxLoading","moment","NotificationManager","FaIcons","Home","isMarked","setIsMarked","useState","load","setLoad","user","isAuthenticated","useContext","useEffect","id","undefined","data","date","Date","format","checkIfAttendanceMarked","then","resData","catch","err","console","log","markAttendance","success","message","warning"],"mappings":"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","sourcesContent":["import React from 'react';\nimport attendanceService from '../services/attendanceService';\nimport { AuthContext } from '../context/authContext';\nimport { BoxLoading } from 'react-loadingg';\nimport moment from 'moment';\nimport { NotificationManager } from 'react-notifications';\nimport * as FaIcons from 'react-icons/fa'\nimport './Home.css'\nexport default function Home() {\n\tconst [isMarked, setIsMarked] = React.useState(false);\n\tconst [load, setLoad] = React.useState(false);\n\tconst { user,isAuthenticated } = React.useContext(AuthContext);\n\n\t/** COMPONENT_DID_MOUNT START */\n\tReact.useEffect(() => {\n        if(isAuthenticated &&  user.id!==undefined){ \n\t\tconst data = { date: moment(new Date()).format('YYYY-MM-DD'), id: user.id };\n\t\tattendanceService\n\t\t\t.checkIfAttendanceMarked(data)\n\t\t\t.then((resData) => {\n\t\t\t\tsetIsMarked(resData.data);\n\t\t\t\tsetLoad(true);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tsetLoad(true);\n\t\t\t});\n\t\treturn () => {\n\t\t\tsetIsMarked(false);\n\t\t\tsetLoad(true);\n\t\t};\n    }\n\t}, [isAuthenticated, user.id]);\n\t/** COMPONENT_DID_MOUNT END */\n\n\tconst markAttendance = () => {\n\t\tsetLoad(false)\n\t\tconst data = { date: moment(new Date()).format('YYYY-MM-DD'), id: user.id };\n\t\tattendanceService\n\t\t\t.markAttendance(data)\n\t\t\t.then((resData) => {\n                if(resData.success){\n                    setIsMarked(resData.data);\n                    NotificationManager.success(resData.message)\n\t\t\t\t\tsetLoad(true)\n                }\n                else{\n                    NotificationManager.warning(resData.message);\n\t\t\t\t\tsetLoad(true)\n                }\n              \n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tNotificationManager.warning(\"something went wrong ...\");\n\t\t\t\tsetLoad(true)\n\t\t\t});\n\t};\n\treturn (\n\t\t<div  className=\" col-md-12 mb-auto mt-auto h-100\">\n\n\t\t\t{load ? (\n\t\t\t\t<div className='h-100 d-flex flex-row justify-content-center align-items-center '>\n\t\t\t\t\t{isMarked ? (\n\t\t\t\t\t\t<h3 className=\"text-primary\">Your attendance for today has been already marked</h3>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button className='btn btn-success btn-lg' onClick={markAttendance}>\n\t\t\t\t\t\t<FaIcons.FaMarker/>\tMark Attendance\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<p>You attendance for <span className=\"font-weight-bold text-primary\">{moment(new Date()).format('YYYY-MM-DD')}</span>  will be marked </p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<BoxLoading />\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}