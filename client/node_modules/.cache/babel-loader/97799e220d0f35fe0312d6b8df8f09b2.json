{"ast":null,"code":"var _jsxFileName = \"/home/asd/Desktop/development/angan_test/client/src/context/authContext.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable import/no-anonymous-default-export */\nimport React, { createContext, useState, useEffect } from 'react';\nimport { BoxLoading } from 'react-loadingg';\nimport userService from '../services/userService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nexport default _s(({\n  children\n}) => {\n  _s();\n\n  const [user, setUser] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  /*\n    ! React hook version of componentDidMount()\n    */\n\n  useEffect(() => {\n    userService.isAuthenticated().then(data => {\n      if (data.isAuthenticated) {\n        setUser(data.user);\n        setIsAuthenticated(data.isAuthenticated);\n        setLoaded(true);\n      } else {\n        setUser('');\n        setIsAuthenticated(false);\n        setLoaded(true);\n      }\n    }).catch(err => {\n      console.log(err);\n      setLoaded(true);\n    });\n  }, [isAuthenticated]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      height: '100%'\n    },\n    children: !loaded ? /*#__PURE__*/_jsxDEV(BoxLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: {\n        user,\n        setUser,\n        isAuthenticated,\n        setIsAuthenticated,\n        loaded,\n        setLoaded\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, this);\n}, \"oRBIWJosPbTlryoVXFe92LBkrfM=\");","map":{"version":3,"sources":["/home/asd/Desktop/development/angan_test/client/src/context/authContext.js"],"names":["React","createContext","useState","useEffect","BoxLoading","userService","AuthContext","children","user","setUser","isAuthenticated","setIsAuthenticated","loaded","setLoaded","then","data","catch","err","console","log","height"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AAEA,SAASC,UAAT,QAA2B,gBAA3B;AAEA,OAAOC,WAAP,MAAwB,yBAAxB;;AAEA,OAAO,MAAMC,WAAW,gBAAGL,aAAa,EAAjC;AAEP,kBAAe,CAAC;AAAEM,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC/B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,eAAD,EAAkBC,kBAAlB,IAAwCT,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,KAAD,CAApC;AACA;AACF;AACA;;AACCC,EAAAA,SAAS,CAAC,MAAM;AACfE,IAAAA,WAAW,CACTK,eADF,GAEEI,IAFF,CAEQC,IAAD,IAAU;AACf,UAAIA,IAAI,CAACL,eAAT,EAA0B;AACzBD,QAAAA,OAAO,CAACM,IAAI,CAACP,IAAN,CAAP;AACAG,QAAAA,kBAAkB,CAACI,IAAI,CAACL,eAAN,CAAlB;AACAG,QAAAA,SAAS,CAAC,IAAD,CAAT;AAEA,OALD,MAKO;AACNJ,QAAAA,OAAO,CAAC,EAAD,CAAP;AACAE,QAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAE,QAAAA,SAAS,CAAC,IAAD,CAAT;AAEA;AACD,KAdF,EAeEG,KAfF,CAeSC,GAAD,IAAS;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,SAAS,CAAC,IAAD,CAAT;AACA,KAlBF;AAmBA,GApBQ,EAoBN,CAACH,eAAD,CApBM,CAAT;AAqBA,sBACC;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,KAAK,EAAE;AAACU,MAAAA,MAAM,EAAC;AAAR,KAAxC;AAAA,cACE,CAACR,MAAD,gBACA,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,YADA,gBAGA,QAAC,WAAD,CAAa,QAAb;AACC,MAAA,KAAK,EAAE;AACNJ,QAAAA,IADM;AAENC,QAAAA,OAFM;AAGNC,QAAAA,eAHM;AAINC,QAAAA,kBAJM;AAKNC,QAAAA,MALM;AAMNC,QAAAA;AANM,OADR;AAAA,gBAUEN;AAVF;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,UADD;AAoBA,CAhDD","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\nimport React, { createContext, useState, useEffect } from 'react';\n\nimport { BoxLoading } from 'react-loadingg';\n\nimport userService from '../services/userService';\n\nexport const AuthContext = createContext();\n\nexport default ({ children }) => {\n  const [user, setUser] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  /*\n    ! React hook version of componentDidMount()\n    */\n\tuseEffect(() => {\n\t\tuserService\n\t\t\t.isAuthenticated()\n\t\t\t.then((data) => {\n\t\t\t\tif (data.isAuthenticated) {\n\t\t\t\t\tsetUser(data.user);\n\t\t\t\t\tsetIsAuthenticated(data.isAuthenticated);\n\t\t\t\t\tsetLoaded(true);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tsetUser('');\n\t\t\t\t\tsetIsAuthenticated(false);\n\t\t\t\t\tsetLoaded(true);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tsetLoaded(true);\n\t\t\t});\n\t}, [isAuthenticated]);\n\treturn (\n\t\t<div className=\"container-fluid\" style={{height:'100%'}}>\n\t\t\t{!loaded ? (\n\t\t\t\t<BoxLoading />\n\t\t\t) : (\n\t\t\t\t<AuthContext.Provider\n\t\t\t\t\tvalue={{\n\t\t\t\t\t\tuser,\n\t\t\t\t\t\tsetUser,\n\t\t\t\t\t\tisAuthenticated,\n\t\t\t\t\t\tsetIsAuthenticated,\n\t\t\t\t\t\tloaded,\n\t\t\t\t\t\tsetLoaded,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</AuthContext.Provider>\n\t\t\t)}\n\t\t</div>\n\t);\n};"]},"metadata":{},"sourceType":"module"}