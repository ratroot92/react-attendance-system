{"ast":null,"code":"var _jsxFileName = \"/home/asd/Desktop/development/angan_test/client/src/pages/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport attendanceService from '../services/attendanceService';\nimport { AuthContext } from '../context/authContext';\nimport { BoxLoading } from 'react-loadingg';\nimport moment from 'moment';\nimport { NotificationManager } from 'react-notifications';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [isMarked, setIsMarked] = React.useState(false);\n  const [load, setLoad] = React.useState(true);\n  const {\n    user,\n    isAuthenticated\n  } = React.useContext(AuthContext);\n  /** COMPONENT_DID_MOUNT START */\n\n  React.useEffect(() => {\n    console.log(\"user.id\", user.id);\n\n    if (isAuthenticated) {\n      const data = {\n        date: moment(new Date()).format('YYYY-MM-DD'),\n        id: user.id\n      };\n      attendanceService.checkIfAttendanceMarked(data).then(resData => {\n        console.log(resData);\n        setIsMarked(resData.data);\n      }).catch(err => {\n        console.log(err);\n        setLoad(true);\n      });\n      return () => {\n        setIsMarked(false);\n        setLoad(true);\n      };\n    }\n  }, [isAuthenticated, user.id]);\n  /** COMPONENT_DID_MOUNT END */\n\n  const markAttendance = () => {\n    const data = {\n      date: moment(new Date()).format('YYYY-MM-DD'),\n      id: user.id\n    };\n    attendanceService.markAttendance(data).then(resData => {\n      if (resData.success) {\n        setIsMarked(resData.data);\n        NotificationManager.success(resData.message);\n      } else {\n        NotificationManager.warning(resData.message);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: isMarked ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"you attendance for today has been already marked\"\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success btn-sm\",\n        onClick: markAttendance,\n        children: \"Mark Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(BoxLoading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 6\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n}\n\n_s(Home, \"QP+Oxor0dqmEAU75PNkZHDP8lp0=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/asd/Desktop/development/angan_test/client/src/pages/Home.jsx"],"names":["React","attendanceService","AuthContext","BoxLoading","moment","NotificationManager","Home","isMarked","setIsMarked","useState","load","setLoad","user","isAuthenticated","useContext","useEffect","console","log","id","data","date","Date","format","checkIfAttendanceMarked","then","resData","catch","err","markAttendance","success","message","warning"],"mappings":"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","sourcesContent":["import React from 'react';\nimport attendanceService from '../services/attendanceService';\nimport { AuthContext } from '../context/authContext';\nimport { BoxLoading } from 'react-loadingg';\nimport moment from 'moment';\nimport { NotificationManager } from 'react-notifications';\n\nexport default function Home() {\n\tconst [isMarked, setIsMarked] = React.useState(false);\n\tconst [load, setLoad] = React.useState(true);\n\tconst { user,isAuthenticated } = React.useContext(AuthContext);\n\n\t/** COMPONENT_DID_MOUNT START */\n\tReact.useEffect(() => {\n\t\tconsole.log(\"user.id\",user.id)\n        if(isAuthenticated){ \n\t\tconst data = { date: moment(new Date()).format('YYYY-MM-DD'), id: user.id };\n\t\tattendanceService\n\t\t\t.checkIfAttendanceMarked(data)\n\t\t\t.then((resData) => {\n\t\t\t\tconsole.log(resData);\n\t\t\t\tsetIsMarked(resData.data);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tsetLoad(true);\n\t\t\t});\n\t\treturn () => {\n\t\t\tsetIsMarked(false);\n\t\t\tsetLoad(true);\n\t\t};\n    }\n\t}, [isAuthenticated, user.id]);\n\t/** COMPONENT_DID_MOUNT END */\n\n\tconst markAttendance = () => {\n\t\tconst data = { date: moment(new Date()).format('YYYY-MM-DD'), id: user.id };\n\t\tattendanceService\n\t\t\t.markAttendance(data)\n\t\t\t.then((resData) => {\n                if(resData.success){\n                    setIsMarked(resData.data);\n                    NotificationManager.success(resData.message)\n                }\n                else{\n                    NotificationManager.warning(resData.message)\n                }\n              \n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\treturn (\n\t\t<>\n\t\t\t{load ? (\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\t{isMarked ? (\n\t\t\t\t\t\t<>you attendance for today has been already marked</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className='btn btn-success btn-sm' onClick={markAttendance}>\n\t\t\t\t\t\t\tMark Attendance\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<BoxLoading />\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}